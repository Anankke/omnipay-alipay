<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Omnipay-alipay by lokielse</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Omnipay-alipay</h1>
      <h2 class="project-tagline">Alipay driver for the Omnipay PHP payment processing library PHP 5.5+</h2>
      <a href="https://github.com/lokielse/omnipay-alipay" class="btn">View on GitHub</a>
      <a href="https://github.com/lokielse/omnipay-alipay/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/lokielse/omnipay-alipay/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="omnipay-alipay" class="anchor" href="#omnipay-alipay" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Omnipay: Alipay</h1>

<p><a href="https://travis-ci.org/lokielse/omnipay-alipay"><img src="https://img.shields.io/travis/lokielse/omnipay-alipay/master.svg" alt="travis"></a>
<a href="https://packagist.org/packages/lokielse/omnipay-alipay"><img src="https://img.shields.io/packagist/v/lokielse/omnipay-alipay.svg" alt="Latest Version on Packagist"></a>
<a href="https://packagist.org/packages/lokielse/omnipay-alipay"><img src="https://img.shields.io/packagist/dt/lokielse/omnipay-alipay.svg" alt="Total Downloads"></a>
<a href="https://codecov.io/github/lokielse/omnipay-alipay?branch=master"><img src="https://img.shields.io/codecov/c/github/lokielse/omnipay-alipay/master.svg" alt="Code Coverage"></a>
<a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-brightgreen.svg" alt="Software License"></a>
<a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=lokielse%40gmail%2ecom&amp;lc=US&amp;item_name=Omnipay%20Alipay&amp;currency_code=USD&amp;bn=PP%2dDonationsBF%3abtn_donate_LG%2egif%3aNonHosted"><img src="https://img.shields.io/badge/%F0%9F%8D%BC-donate-ff69b4.svg" alt="Donate"></a>
<a href="https://cloud.githubusercontent.com/assets/1573211/18808259/a283d596-828f-11e6-8810-4a2e16d5e319.jpg"><img src="https://img.shields.io/badge/-%E7%BA%A2%E5%8C%85-red.svg?logo=data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8%2F9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw%2FeHBhY2tldCBiZWdpbj0i77u%2FIiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8%2BIDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowOTE0NEQ3OTdBREYxMUU2QkVGRkQ0ODM3M0M3RTcwNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowOTE0NEQ3QTdBREYxMUU2QkVGRkQ0ODM3M0M3RTcwNCI%2BIDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA5MTQ0RDc3N0FERjExRTZCRUZGRDQ4MzczQzdFNzA0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA5MTQ0RDc4N0FERjExRTZCRUZGRDQ4MzczQzdFNzA0Ii8%2BIDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY%2BIDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8%2BXf%2Fy5QAAAqpJREFUeNp0Uz1vE0EQfbt7n7Zjx%2BAkVoQpEJ%2BiSIWQKOmCoEkH4k8gCpAokJCoaOkpEVLS8R%2BgCIJIJCiCyBEJJLFDEp%2FtO99574bZM4EExEh7Z83tvDfvzVgQEdKlxZvxwsvHtLN1iYZJEVkGZCmQ8pv4HIYQgOOEsj696s7deaquXFsQ%2BsPijej5s3kMIh%2F8HcMhDAAZEE2jQktwrRj9ZkLSfMdxh%2F69R7fVw6mxeWY%2BlTMmyehCShBKwmpUIKseqKc5l3HOgDCYUkyUKHz7OmPh%2B8YFmWomHbVKGUFWXPi3GpDjUZ7LDiYRvd4AdQY5sORutO1gf715Rt2dKD9JMxI2o5ojMwF39jRUPQBUiY8D4QWwajUky%2FsI0yHaYUQ%2FwgEJkLLGPU8EccwJZmPJXsHB2ZoW6IdApcoAFhD0kJ100Yx7pJIMFd8T9VKRm2GZJddBxXNFxtoHQ41eMkQcdFCoss5wF%2BBLsCTSIEDDLwpvzGIeYsk8PZYt8zEa1%2Fnt2RYmXB%2Fdtz3Sts2F7IvS0Eyy%2F6ZLdibzu6b4MCwcCQNCPDK%2FmYrdV3skLrpsGE%2Fz0wCFbRLCUfmdo3EMwIQpiESKlXctca5ZxWanC8EqZhp1ZH8V%2FwdAos0GrgUHiEijGyeI0xQBu3%2B1Mc12yGNd%2FANgRmG2zmc%2FOoPYDAYOj7fPS%2FZ7G%2FO1Hj2kJkqOAwiEPAnNm1d0HLiWYlaBsufCVX88sKXCZtDVklv8kicNuhh1UGbXDRuPF5pd9yyLer%2BkmNk7DLrRCfB%2Bq7WuZqul1mTBm%2BP1lBxQ7IHhMNrP107knaREoux5mCoV0ec%2F2%2FJOG0tbLQN%2BX10v%2Byu8hZ9Z72U%2B1W4cS%2BP21FgRkluq%2BC6ZZTPaVnf38HG7rbe7%2FTUhxQNu%2BMVPAQYAqNVYlao%2BUU8AAAAASUVORK5CYII%3D" alt="Donate"></a></p>

<p><strong>Alipay driver for the Omnipay PHP payment processing library</strong></p>

<p><a href="https://github.com/omnipay/omnipay">Omnipay</a> is a framework agnostic, multi-gateway payment
processing library for PHP. This package implements Alipay support for Omnipay.</p>

<blockquote>
<p>Cross-border Alipay payment please use <a href="https://github.com/lokielse/omnipay-global-alipay"><code>lokielse/omnipay-global-alipay</code></a></p>

<p>Legacy Version please use <a href="https://github.com/lokielse/omnipay-alipay/tree/legacy"><code>"lokielse/omnipay-alipay": "legacy"</code></a></p>
</blockquote>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>Require this package with composer using the following command:</p>

<div class="highlight highlight-source-shell"><pre>composer require lokielse/omnipay-alipay</pre></div>

<p>And run composer to update your dependencies:</p>

<pre><code>$ curl -s http://getcomposer.org/installer | php
$ php composer.phar update
</code></pre>

<h2>
<a id="basic-usage" class="anchor" href="#basic-usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Basic Usage</h2>

<p>The following gateways are provided by this package:</p>

<table>
<thead>
<tr>
<th align="left">Gateway</th>
<th align="left">Description</th>
<th align="left">说明              </th>
<th align="center">Links</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Alipay_AopApp</td>
<td align="left">Alipay APP Gateway</td>
<td align="left">APP支付 - new</td>
<td align="center">
<a href="https://github.com/lokielse/omnipay-alipay/wiki/Aop-APP-Gateway">Usage</a> <a href="https://doc.open.alipay.com/docs/doc.htm?treeId=204&amp;articleId=105051&amp;docType=1">Doc</a>
</td>
</tr>
<tr>
<td align="left">Alipay_AopF2F</td>
<td align="left">Alipay Face To Face Gateway</td>
<td align="left">当面付 - new</td>
<td align="center">
<a href="https://github.com/lokielse/omnipay-alipay/wiki/Aop-Face-To-Face-Gateway">Usage</a> <a href="https://doc.open.alipay.com/docs/doc.htm?treeId=194&amp;articleId=105072&amp;docType=1">Doc</a>
</td>
</tr>
<tr>
<td align="left">Alipay_AopWap</td>
<td align="left">Alipay WAP Gateway</td>
<td align="left">手机网站支付 - new</td>
<td align="center">
<a href="https://github.com/lokielse/omnipay-alipay/wiki/Aop-WAP-Gateway">Usage</a> <a href="https://doc.open.alipay.com/docs/doc.htm?treeId=203&amp;articleId=105288&amp;docType=1">Doc</a>
</td>
</tr>
<tr>
<td align="left">Alipay_LegacyApp</td>
<td align="left">Alipay Legacy APP Gateway</td>
<td align="left">APP支付</td>
<td align="center">
<a href="https://github.com/lokielse/omnipay-alipay/wiki/Legacy-APP-Gateway">Usage</a> <a href="https://doc.open.alipay.com/doc2/detail?treeId=59&amp;articleId=103563&amp;docType=1">Doc</a>
</td>
</tr>
<tr>
<td align="left">Alipay_LegacyExpress</td>
<td align="left">Alipay Legacy Express Gateway</td>
<td align="left">即时到账</td>
<td align="center">
<a href="https://github.com/lokielse/omnipay-alipay/wiki/Legacy-Express-Gateway">Usage</a> <a href="https://doc.open.alipay.com/docs/doc.htm?treeId=108&amp;articleId=103950&amp;docType=1">Doc</a>
</td>
</tr>
<tr>
<td align="left">Alipay_LegacyWap</td>
<td align="left">Alipay Legacy WAP Gateway</td>
<td align="left">手机网站支付</td>
<td align="center">
<a href="https://github.com/lokielse/omnipay-alipay/wiki/Legacy-WAP-Gateway">Usage</a> <a href="https://doc.open.alipay.com/docs/doc.htm?treeId=60&amp;articleId=103564&amp;docType=1">Doc</a>
</td>
</tr>
</tbody>
</table>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a id="purchase-购买" class="anchor" href="#purchase-%E8%B4%AD%E4%B9%B0" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Purchase (购买)</h3>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c"> * <span class="pl-k">@var</span> AopAppGateway $gateway</span></span>
<span class="pl-s1"><span class="pl-c"> */</span></span>
<span class="pl-s1"><span class="pl-smi">$gateway</span> <span class="pl-k">=</span> <span class="pl-c1">Omnipay</span><span class="pl-k">::</span>create(<span class="pl-s"><span class="pl-pds">'</span>Alipay_AopApp<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"><span class="pl-smi">$gateway</span><span class="pl-k">-&gt;</span>setAppId(<span class="pl-s"><span class="pl-pds">'</span>the_app_id<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"><span class="pl-smi">$gateway</span><span class="pl-k">-&gt;</span>setPrivateKey(<span class="pl-s"><span class="pl-pds">'</span>the_app_private_key<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"><span class="pl-smi">$gateway</span><span class="pl-k">-&gt;</span>setNotifyUrl(<span class="pl-s"><span class="pl-pds">'</span>https://www.example.com/notify<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-smi">$request</span> <span class="pl-k">=</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">gateway</span><span class="pl-k">-&gt;</span>purchase();</span>
<span class="pl-s1"><span class="pl-smi">$request</span><span class="pl-k">-&gt;</span>setBizContent([</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>subject<span class="pl-pds">'</span></span>      <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>test<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>out_trade_no<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">date</span>(<span class="pl-s"><span class="pl-pds">'</span>YmdHis<span class="pl-pds">'</span></span>) <span class="pl-k">.</span> <span class="pl-c1">mt_rand</span>(<span class="pl-c1">1000</span>, <span class="pl-c1">9999</span>),</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>total_amount<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>0.01<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>product_code<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>QUICK_MSECURITY_PAY<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">]);</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c"> * <span class="pl-k">@var</span> AopTradeAppPayResponse $response</span></span>
<span class="pl-s1"><span class="pl-c"> */</span></span>
<span class="pl-s1"><span class="pl-smi">$response</span> <span class="pl-k">=</span> <span class="pl-smi">$request</span><span class="pl-k">-&gt;</span>send();</span></pre></div>

<p>For general usage instructions, please see the main <a href="https://github.com/omnipay/omnipay">Omnipay</a>
repository.</p>

<h2>
<a id="related" class="anchor" href="#related" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Related</h2>

<ul>
<li><a href="https://github.com/ignited/laravel-omnipay">Laravel-Omnipay</a></li>
<li><a href="https://github.com/lokielse/omnipay-global-alipay">Omnipay-GlobalAlipay</a></li>
<li><a href="https://github.com/lokielse/omnipay-wechatpay">Omnipay-WechatPay</a></li>
<li><a href="https://github.com/lokielse/omnipay-unionpay">Omnipay-UnionPay</a></li>
</ul>

<h2>
<a id="support" class="anchor" href="#support" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Support</h2>

<p>If you are having general issues with Omnipay, we suggest posting on
<a href="http://stackoverflow.com/">Stack Overflow</a>. Be sure to add the
<a href="http://stackoverflow.com/questions/tagged/omnipay">omnipay tag</a> so it can be easily found.</p>

<p>If you want to keep up to date with release anouncements, discuss ideas for the project,
or ask more detailed questions, there is also a <a href="https://groups.google.com/forum/#!forum/omnipay">mailing list</a> which
you can subscribe to.</p>

<p>If you believe you have found a bug, please report it using the <a href="https://github.com/lokielse/omnipay-alipay/issues">GitHub issue tracker</a>,
or better yet, fork the library and submit a pull request.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/lokielse/omnipay-alipay">Omnipay-alipay</a> is maintained by <a href="https://github.com/lokielse">lokielse</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
