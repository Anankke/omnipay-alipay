{
  "name": "Omnipay-alipay",
  "tagline": "Alipay driver for the Omnipay PHP payment processing library PHP 5.3+",
  "body": "# Omnipay: Alipay\r\n\r\n**Alipay driver for the Omnipay PHP payment processing library**\r\n\r\n[![Build Status](https://travis-ci.org/lokielse/omnipay-alipay.png?branch=master)](https://travis-ci.org/lokielse/omnipay-alipay)\r\n[![Latest Stable Version](https://poser.pugx.org/lokielse/omnipay-alipay/version.png)](https://packagist.org/packages/lokielse/omnipay-alipay)\r\n[![Total Downloads](https://poser.pugx.org/lokielse/omnipay-alipay/d/total.png)](https://packagist.org/packages/lokielse/omnipay-alipay)\r\n\r\n[Omnipay](https://github.com/omnipay/omnipay) is a framework agnostic, multi-gateway payment\r\nprocessing library for PHP 5.3+. This package implements Alipay support for Omnipay.\r\n\r\n> Cross-border Alipay payment please use [`lokielse/omnipay-global-alipay`](https://github.com/lokielse/omnipay-global-alipay)\r\n\r\n## Installation\r\n\r\nOmnipay is installed via [Composer](http://getcomposer.org/). To install, simply add it to your `composer.json` file:\r\n\r\n```json\r\n{\r\n    \"require\": {\r\n        \"lokielse/omnipay-alipay\": \"dev-master\"\r\n    }\r\n}\r\n```\r\n\r\nAnd run composer to update your dependencies:\r\n\r\n    $ curl -s http://getcomposer.org/installer | php\r\n    $ php composer.phar update\r\n\r\n## Basic Usage\r\n\r\nThe following gateways are provided by this package:\r\n\r\n\r\n* Alipay_Express (Alipay Express Checkout) 支付宝即时到账接口\r\n* Alipay_Secured (Alipay Secured Checkout) 支付宝担保交易接口\r\n* Alipay_Dual (Alipay Dual Function Checkout) 支付宝双功能交易接口\r\n* Alipay_WapExpress (Alipay Wap Express Checkout) 支付宝WAP客户端接口\r\n* Alipay_MobileExpress (Alipay Mobile Express Checkout) 支付宝无线支付接口\r\n* Alipay_Bank (Alipay Bank Checkout) 支付宝网银快捷接口\r\n\r\n## Usage\r\n\r\n### Purchase\r\n```php\r\n$gateway = Omnipay::create('Alipay_Express');\r\n$gateway->setPartner('8888666622221111');\r\n$gateway->setKey('your**key**here');\r\n$gateway->setSellerEmail('merchant@example.com');\r\n$gateway->setReturnUrl('http://www.example.com/return');\r\n$gateway->setNotifyUrl('http://www.example.com/notify');\r\n\r\n//For 'Alipay_MobileExpress', 'Alipay_WapExpress'\r\n//$gateway->setPrivateKey('/such-as/private_key.pem');\r\n\r\n$options = [\r\n    'out_trade_no' => date('YmdHis') . mt_rand(1000,9999), //your site trade no, unique\r\n    'subject'      => 'test', //order title\r\n    'total_fee'    => '0.01', //order total fee\r\n];\r\n\r\n$response = $gateway->purchase($options)->send();\r\n\r\n$response->getRedirectUrl();\r\n$response->getRedirectData();\r\n\r\n//For 'Alipay_MobileExpress'\r\n//Use the order string with iOS or Android SDK\r\n$response->getOrderString();\r\n```\r\n\r\n### Return/Notify\r\n```php\r\n$gateway = Omnipay::create('Alipay_Express');\r\n$gateway->setPartner('8888666622221111');\r\n$gateway->setKey('your**key**here');\r\n$gateway->setSellerEmail('merchant@example.com');\r\n\r\n//For 'Alipay_MobileExpress', 'Alipay_WapExpress'\r\n//$gateway->setAlipayPublicKey('/such-as/alipay_public_key.pem');\r\n\r\n$options = [\r\n    'request_params'=> array_merge($_POST, $_GET), //Don't use $_REQUEST for may contain $_COOKIE\r\n];\r\n\r\n$response = $gateway->completePurchase($options)->send();\r\n\r\nif ($response->isPaid()) {\r\n\r\n   // Paid success, your statements go here.\r\n\r\n   //For notify, response 'success' only please.\r\n   //die('success');\r\n} else {\r\n\r\n   //For notify, response 'fail' only please.\r\n   //die('fail');\r\n}\r\n```\r\n\r\n\r\nFor general usage instructions, please see the main [Omnipay](https://github.com/omnipay/omnipay)\r\nrepository.\r\n\r\n## Related\r\n\r\n- [Laravel-Omnipay](https://github.com/ignited/laravel-omnipay)\r\n- [Omnipay-GlobalAlipay](https://github.com/lokielse/omnipay-global-alipay)\r\n- [Omnipay-WechatPay](https://github.com/lokielse/omnipay-wechatpay)\r\n- [Omnipay-UnionPay](https://github.com/lokielse/omnipay-unionpay)\r\n\r\n## Support\r\n\r\nIf you are having general issues with Omnipay, we suggest posting on\r\n[Stack Overflow](http://stackoverflow.com/). Be sure to add the\r\n[omnipay tag](http://stackoverflow.com/questions/tagged/omnipay) so it can be easily found.\r\n\r\nIf you want to keep up to date with release anouncements, discuss ideas for the project,\r\nor ask more detailed questions, there is also a [mailing list](https://groups.google.com/forum/#!forum/omnipay) which\r\nyou can subscribe to.\r\n\r\nIf you believe you have found a bug, please report it using the [GitHub issue tracker](https://github.com/lokielse/omnipay-alipay/issues),\r\nor better yet, fork the library and submit a pull request.\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}